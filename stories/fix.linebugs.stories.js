import React, { useEffect, useState } from 'react';

import { storiesOf } from '@storybook/react';
import { action } from '@storybook/addon-actions';
import { withKnobs, select } from '@storybook/addon-knobs';

import { Wcontainer, Wline, Wbar } from '@alicloud/cloud-charts';

const stories = storiesOf('linebugs', module);
stories.addDecorator(withKnobs);

let data = [
  {
    name: '机房1',
    data: [
      [1483372800000, 1151],
      [1483459200000, 4778],
      [1483545600000, 21175],
      [1483632000000, 19048],
      [1483718400000, 14748],
      [1483804800000, 18494],
      [1483891200000, 10597],
      [1483977600000, 8788],
      [1484064000000, 12985],
      [1484150400000, 2492],
      [1484236800000, 5965],
      [1484323200000, 10246],
      [1484409600000, 12160],
      [1484496000000, 6877],
    ],
  },
];

const bugData = [
  {
      "name": "自定义事件上报分布柱状图",
      "data": [
          [
              1709518732000,
              0,
              1709521200000
          ],
          [
              1709521200000,
              0,
              1709524800000
          ],
          [
              1709524800000,
              0,
              1709528400000
          ],
          [
              1709528400000,
              0,
              1709532000000
          ],
          [
              1709532000000,
              0,
              1709535600000
          ],
          [
              1709535600000,
              0,
              1709539200000
          ],
          [
              1709539200000,
              0,
              1709542800000
          ],
          [
              1709542800000,
              0,
              1709546400000
          ],
          [
              1709546400000,
              0,
              1709550000000
          ],
          [
              1709550000000,
              0,
              1709553600000
          ],
          [
              1709553600000,
              0,
              1709557200000
          ],
          [
              1709557200000,
              0,
              1709560800000
          ],
          [
              1709560800000,
              0,
              1709564400000
          ],
          [
              1709564400000,
              0,
              1709568000000
          ],
          [
              1709568000000,
              0,
              1709571600000
          ],
          [
              1709571600000,
              0,
              1709575200000
          ],
          [
              1709575200000,
              0,
              1709578800000
          ],
          [
              1709578800000,
              0,
              1709582400000
          ],
          [
              1709582400000,
              0,
              1709586000000
          ],
          [
              1709586000000,
              0,
              1709589600000
          ],
          [
              1709589600000,
              0,
              1709593200000
          ],
          [
              1709593200000,
              0,
              1709596800000
          ],
          [
              1709596800000,
              0,
              1709600400000
          ],
          [
              1709600400000,
              0,
              1709604000000
          ],
          [
              1709604000000,
              0,
              1709607600000
          ],
          [
              1709607600000,
              0,
              1709611200000
          ],
          [
              1709611200000,
              0,
              1709614800000
          ],
          [
              1709614800000,
              0,
              1709618400000
          ],
          [
              1709618400000,
              0,
              1709622000000
          ],
          [
              1709622000000,
              0,
              1709625600000
          ],
          [
              1709625600000,
              0,
              1709629200000
          ],
          [
              1709629200000,
              0,
              1709632800000
          ],
          [
              1709632800000,
              0,
              1709636400000
          ],
          [
              1709636400000,
              0,
              1709640000000
          ],
          [
              1709640000000,
              0,
              1709643600000
          ],
          [
              1709643600000,
              0,
              1709647200000
          ],
          [
              1709647200000,
              0,
              1709650800000
          ],
          [
              1709650800000,
              0,
              1709654400000
          ],
          [
              1709654400000,
              0,
              1709658000000
          ],
          [
              1709658000000,
              0,
              1709661600000
          ],
          [
              1709661600000,
              0,
              1709665200000
          ],
          [
              1709665200000,
              0,
              1709668800000
          ],
          [
              1709668800000,
              0,
              1709672400000
          ],
          [
              1709672400000,
              0,
              1709676000000
          ],
          [
              1709676000000,
              0,
              1709679600000
          ],
          [
              1709679600000,
              0,
              1709683200000
          ],
          [
              1709683200000,
              0,
              1709686800000
          ],
          [
              1709686800000,
              0,
              1709690400000
          ],
          [
              1709690400000,
              0,
              1709691530000
          ]
      ]
  }
];

stories.add('折线图-辅助线渐变问题', () => (
  <Wline
    height="300"
    data={data}
    // localRefresh={false}
    config={{
      guide: {
        line: {
          // top: true,
          // status: 'warning',
          // axis: 'y',
          // value: 10000,
        },
        filter: [
          {
            status: 'error',
            axis: 'x',
            value: [1483372800000, 1483545600000],
          },
          // {
          //   status: 'error',
          //   axis: 'x',
          //   value: [1484323200000, 1484496000000],
          // },
          // {
          //   status: 'warning',
          //   axis: 'y',
          //   value: [10000, 'max'],
          // },
        ],
      },
    }}
  />
));

stories.add('柱图-辅助线渐变问题', () => (
  <Wbar
    height="300"
    data={data}
    config={{
      guide: {
        filter: [
          {
            status: 'error',
            axis: 'x',
            value: [1483372800000, 1483545600000],
          },
          // {
          //   status: 'error',
          //   axis: 'x',
          //   value: [1484323200000, 1484496000000],
          // },
          // {
          //   status: 'warning',
          //   axis: 'y',
          //   value: [10000, 'max'],
          // },
        ],
      },
    }}
  />
));

stories.add('柱图-时间轴刻度问题', () => (
  <Wbar
    height="300"
    data={bugData}
    config={{
      xAxis: {
        type: "timeCat",
        mask: "MM-DD HH:mm:ss",
        // 内置设置
        // autoHide: true,
      }
    }}
    language={"en-us"}
  />
));
