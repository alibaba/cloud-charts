# CloudCharts é‡æ„ - å¿«é€Ÿå‚è€ƒå¡

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨

```bash
# 1. å¤‡ä»½
git tag backup

# 2. å®‰è£… Vite
npm install -D vite @vitejs/plugin-react

# 3. åˆ›å»º vite.config.ts (å¤åˆ¶ä¸‹é¢çš„é…ç½®)

# 4. æ›´æ–° package.json scripts
"build": "vite build && tsc --emitDeclarationOnly"

# 5. æµ‹è¯•
npm run build
```

## âš¡ æ ¸å¿ƒé…ç½®

### vite.config.ts
```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import { resolve } from 'path';

export default defineConfig({
  plugins: [react()],
  build: {
    lib: {
      entry: resolve(__dirname, 'src/index.ts'),
      name: 'CloudCharts',
      fileName: (format) => `index.${format}.js`
    },
    rollupOptions: {
      external: ['react', 'react-dom', '@antv/g2'],
      output: {
        globals: { react: 'React', 'react-dom': 'ReactDOM', '@antv/g2': 'G2' }
      }
    }
  }
});
```

### package.json æ›´æ–°
```json
{
  "scripts": {
    "build": "vite build && tsc --emitDeclarationOnly",
    "dev": "vite",
    "test": "vitest"
  },
  "peerDependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  }
}
```

## ğŸ“‹ ä»»åŠ¡æ¸…å•

### é˜¶æ®µ1: æ„å»ºå·¥å…· (1-2å¤©)
- [ ] å®‰è£… Vite
- [ ] åˆ›å»ºé…ç½®æ–‡ä»¶
- [ ] è¿ç§»æ„å»ºé€»è¾‘
- [ ] æµ‹è¯•æ„å»º

### é˜¶æ®µ2: React 18 (1å¤©)
- [ ] å‡çº§ä¾èµ–
- [ ] æ›´æ–°ç±»å‹
- [ ] æµ‹è¯•å…¼å®¹æ€§

### é˜¶æ®µ3: G2 5.x (3-5å¤©)
- [ ] å®‰è£… G2 5
- [ ] é‡å†™ Base.tsx
- [ ] æ›´æ–°æ‰€æœ‰ç»„ä»¶
- [ ] å…¨é¢æµ‹è¯•

### é˜¶æ®µ4: Hooks (5-7å¤©)
- [ ] åˆ›å»º useChart
- [ ] è¿ç§»ç»„ä»¶
- [ ] ä¿æŒ API å…¼å®¹

### é˜¶æ®µ5: AI ä½“ç³» (2-3å¤©)
- [ ] å®Œå–„ç±»å‹
- [ ] ç”Ÿæˆæ–‡æ¡£
- [ ] é…ç½® AI å·¥å…·

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
npm run dev          # Vite å¼€å‘æœåŠ¡å™¨
npm run storybook    # Storybook

# æ„å»º
npm run build        # å®Œæ•´æ„å»º
npm run build:types  # ä»…ç±»å‹

# æµ‹è¯•
npm test             # è¿è¡Œæµ‹è¯•
npm run test:ui      # UI æµ‹è¯•

# æ–‡æ¡£
npm run docs         # ç”Ÿæˆæ–‡æ¡£
```

## ğŸ¯ API å˜åŒ–é€ŸæŸ¥

### React 18
```typescript
// æ—§
import ReactDOM from 'react-dom';
ReactDOM.render(<App />, container);

// æ–°
import { createRoot } from 'react-dom/client';
createRoot(container).render(<App />);
```

### G2 5.x
```typescript
// æ—§
chart.interval().position('x*y').color('type');

// æ–°
chart.interval()
  .encode('x', 'x')
  .encode('y', 'y')
  .encode('color', 'type');
```

## ğŸ“– æ–‡æ¡£å¯¼èˆª

| æ–‡æ¡£ | ç”¨é€” | é˜…è¯»æ—¶é—´ |
|------|------|----------|
| **AI-çŸ¥è¯†åº“æ–‡æ¡£.md** | AI ç¼–ç¨‹å‚è€ƒ | 30åˆ†é’Ÿ |
| **é‡æ„è®¡åˆ’ä¹¦.md** | å®Œæ•´è§„åˆ’ | 20åˆ†é’Ÿ |
| **å®æ–½æŒ‡å—.md** | æ“ä½œæ­¥éª¤ | 15åˆ†é’Ÿ |
| **README-é‡æ„è¯´æ˜.md** | å¿«é€Ÿç†è§£ | 10åˆ†é’Ÿ |
| **å¿«é€Ÿå‚è€ƒå¡.md** | é€ŸæŸ¥è¡¨ | 2åˆ†é’Ÿ |

## â“ é‡åˆ°é—®é¢˜ï¼Ÿ

### æ„å»ºå¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜
rm -rf node_modules/.vite

# æ£€æŸ¥ä¾èµ–
npm ls @antv/g2

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
npm run build -- --debug
```

### ç±»å‹é”™è¯¯
```bash
# æ£€æŸ¥ç±»å‹
npx tsc --noEmit

# å®‰è£…ç±»å‹
npm install -D @types/react@^18.2.0
```

### G2 ä¸å·¥ä½œ
```bash
# æ£€æŸ¥ç‰ˆæœ¬
npm ls @antv/g2

# æŸ¥çœ‹æ–‡æ¡£
# https://g2.antv.vision/docs/api
```

## âœ… éªŒè¯æ¸…å•

æ„å»ºæˆåŠŸåæ£€æŸ¥:
- [ ] `dist/index.es.js` å­˜åœ¨
- [ ] `dist/index.d.ts` å­˜åœ¨
- [ ] æ–‡ä»¶å¤§å° < 500KB
- [ ] æ— æ„å»ºè­¦å‘Š
- [ ] æ‰€æœ‰å¯¼å‡ºæ­£å¸¸

æµ‹è¯•é€šè¿‡åæ£€æŸ¥:
- [ ] æ‰€æœ‰å›¾è¡¨æ¸²æŸ“æ­£å¸¸
- [ ] é…ç½®é¡¹ç”Ÿæ•ˆ
- [ ] ä¸»é¢˜åˆ‡æ¢æ­£å¸¸
- [ ] äº‹ä»¶å“åº”æ­£å¸¸

## ğŸ¯ æˆåŠŸæ ‡å‡†

å®Œæˆæ—¶æ‚¨å°†æ‹¥æœ‰:
- âœ… React 18 + G2 5.x
- âœ… Vite æ„å»º (å¿« 5x)
- âœ… å®Œæ•´ç±»å‹æ”¯æŒ
- âœ… AI ç¼–ç¨‹èƒ½åŠ›

---

**ç‰ˆæœ¬**: 1.0 | **æ›´æ–°**: 2026-01-09

