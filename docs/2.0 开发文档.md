# 2.0 开发文档

## 用户指南 √

### 关于 Aisc-Widgets

### 谁在用？

### 联系我们



## 快速入门

### 安装 √

### 开始使用 √

### 配合AISC项目

使用aisc脚手架生成的项目，都可以简单快速的接入Widgets。

以最新版本脚手架（脚手架版本 >= 1.7.7）生成的项目为例：

- 在对应页面html中解开以下代码的注释，推荐Widgets版本号 >= 2.0.0

  ```html
  <link rel="stylesheet" href="https://g.alicdn.com/aisc/aisc-widgets/2.0.0/index.css">
  <script src="https://g.alicdn.com/aisc/aisc-widgets/2.0.0/index.js"></script>
  ```

- 开始使用

## 图表组成

了解图表的组成及相关概念，可以帮助我们更好的使用Widgets图表。完整的图表组成如下图所示。

![图表组成](https://img.alicdn.com/tfs/TB1yCYHk6nD8KJjSspbXXbbEXXa-1646-800.png)

所有的图表组件都可以接受三个参数 `config` 、 `data` 和 `event`，在config中可以对图表进行配置，data传入数据，event绑定交互事件。

### 坐标轴 Axis

常见的图表通常包含两个坐标轴，在直角坐标系（笛卡尔坐标系）下，分别为 x 轴和 y 轴，在极坐标轴下，则分别由角度和半径 2 个维度构成。

每个坐标轴由坐标轴线（line）、刻度线（tickLine）、刻度文本（label）、标题（title）以及网格线（grid）组成。

通常通过 `config.xAxis` 和 `config.yAxis` 配置坐标轴。查看 `坐标轴 Axis` 获取更多信息。

### 图例 Legend

图例作为图表的辅助元素，用于标定不同的数据类型以及数据的范围，用于辅助阅读图表，帮助用户在图表中进行数据的筛选过滤。

通常通过 `config.legend` 配置图例。查看 `图例 Legend` 获取更多信息。

### 提示信息 Tooltip

当鼠标悬停在某个点上时，会以提示框的形式显示当前点对应的数据的信息，比如该点的值，数据单位等。数据提示框内提示的信息还可以通过格式化函数动态指定。

通常通过 `config.tooltip` 配置提示信息。查看 `提示信息 Tooltip` 获取更多信息。

### 辅助标记 Guide

有时候需要在图表上绘制一些辅助线、辅助框，比如增加平均值线、最高值线或者标示明显的范围区域，这时可以使用辅助标记。

通常通过 `config.guide` 配置坐标轴。查看 `辅助标记 Guide` 获取更多信息。



## 数据 Data

Widgets 的数据层简化了用户的数据处理流程，只需要按照一定的格式书写数据即可，不需要学习 G2 中较复杂的数据处理逻辑。

### 如何传入数据

直接在图表标签上的 data 属性传入数据即可。如果要更新数据，则传入和之前数据不一样引用的数据即可。

```jsx
<Wline data={myData} />

// update
<Wline data={nextData} />
```

### 数据格式

Widgets 支持Highcharts格式的数据源，使用Highcharts绘制图表的系统可以方便的切换到Widgets中。

```javascript
// data 通常是一个数组，数组中每一项是一个对象，代表一组数据。
const data = [
  // 有相互关联的数据归为一组数据，例如折线图中同一条折线的数据为一组。
  // 一组数据中通常包含 name 和 data 两个属性。
  {
    // 数据项名称，默认会显示在图例中。
    name: '数据项1',
    // 数据本体，通常是一个二维数组
    data: [
      // 第一项代表X轴的值，第二项代表Y轴的值
      ['2017-12-12', 12345],
      ['2017-12-13', 23456],
      ['2017-12-14', 34567],
      ...
    ]
  },
  // 如果在折线图中画多条折线，则需要多组数据
  {
    name: '数据项2',
    data: ...
  },
];
```



## 坐标轴 Axis

Widgets 的坐标轴配置中，整合简化了 G2 中 度量和坐标轴 两个个大类的处理流程。通过 `config.xAxis` 和 `config.yAxis` 可以配置 X/Y 坐标轴。

两者配置项基本一致，都是传入一个对象，详细属性如下：

| 属性名         | 描述                                                         | 类型     | 默认值                                                       |
| -------------- | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ |
| type           | 轴的数据度量类型，可选值：linear、log、pow、time、cat、timeCat。详情见下方说明 | string   | 'linear'                                                     |
| mask           | 指定时间的显示格式，使用 [moment](https://momentjs.com/docs/#/displaying/format/) 的格式进行格式化。仅type是time、timeCat时有效。 | string   | 'YYYY-MM-DD HH:mm:ss'                                        |
| labelFormatter | 自定义轴标签格式化函数，接受一个参数：原显示值，返回新的显示值 | function | null                                                         |
| autoRotate     | 轴标签自动旋转。仅X轴可用。                                  | boolean  | false                                                        |
| categories     | 用于简化数据项结构，详情见 例子                              | array    | null                                                         |
| alias          | 数据属性别名，可用于设定轴标题。                             | string   | null                                                         |
| range          | 数值范围区间，即度量转换的范围。                             | array    | type是连续型时默认为 [0, 1]，分类型为[0.5, dataLength - 0.5] |
| ticks          | 存储坐标轴上的刻度点文本信息，不建议使用该属性               | array    | 自动计算                                                     |
| tickCount      | 坐标轴上刻度点的个数。tickCount 和 tickInterval 不可以同时使用 | number   | 5                                                            |
| tickInterval   | 坐标轴各个刻度点的间距，为原始数据值的差值。仅type是连续型时有效。tickCount 和 tickInterval 不可以同时使用 | number   | 自动计算                                                     |
| min            | 数值范围的最小值。仅type是连续型时有效                       | number   | 自动计算                                                     |
| max            | 数值范围的最大值。仅type是连续型时有效                       | number   | 自动计算                                                     |
| minLimit       | 对数据的最小值的限制，无论数据中是否存在比这个值小的数据，生成的坐标点不会小于这个值。仅type是连续型时有效 | number   | 自动计算                                                     |
| maxLimit       | 对数据的最大值的限制，无论数据中是否存在比这个值大的数据，生成的坐标点不会大于这个值。仅type是连续型时有效 | number   | 自动计算                                                     |
| base           | 对数的基数。仅type是log时有效。                              | number   | 2                                                            |
| exponent       | 指数。仅type是pow时有效。                                    | number   | 2                                                            |

`type` 说明：

轴的数据度量类型分为两种：连续型、分类型。

- 连续型包括：linear（线性）、log（对数）、pow（指数）、time（时间）
- 分类型包括：cat（分类）、timeCat（时间分类）

X轴和Y轴的默认类型都是linear，但是在业务场景中X轴的类型通常都是time，这需要手动设置。如果是有序但非连续的时间类型（如股票交易数据，或是每天/周/月统计数据等）则可以使用timeCat。

使用时间类型时，对应的原始数据格式限定如下：

- 时间戳，如1514545701367（数字，不能是字符串）
- 时间字符串，如 '2015-03-01'，'2015-03-01 12:01:40'，'2015/01/05'，'2015-03-01T16:00:00.000Z'

`min,max,minLimt,maxLimit` 说明：

- min,max,minLimt 和 maxLimit 都会影响坐标轴上坐标点的生成
- min 和 minLimt 的差别主要体现在 如果数据中的数据的范围是 10-20 对于 min: 0 来说，会生成从 0 - 20 范围的坐标点，但是对于 minLimit 来说只要保证生成的坐标点不小于 0 即可，生成的坐标点的范围可能依然在 10 - 20 之间。
- max 和 maxLimit 的差别同 min 和 minLimit 类似， max 体现在坐标轴上肯定会出现 max 或者比 max 大的值，但是绝对不会出现比 maxLimit 大的值。

### 示例

```jsx
const options = {
  xAxis: {
    type: 'time',
    mask: 'YYYY-MM-DD'
  },
  yAxis: {
    labelFormatter: function(value){
      if(value >= 1000) return parseInt( value / 1000 ) + 'K';
      else return value;
    }
  }
};

<Wline config={options} data={...} />
```



### 参考资料

-   G2 Scale度量 页面：https://antv.alipay.com/zh-cn/g2/3.x/tutorial/scale.html

-   时间格式化：https://github.com/taylorhakes/fecha

|                  | Token | Output |
| --------------------- | ------ | -------------------------------------- |
| **Month**             | M      | 1 2 ... 11 12                          |
|                       | MM     | 01 02 ... 11 12                        |
|                       | MMM    | Jan Feb ... Nov Dec                    |
|                       | MMMM   | January February ... November December |
| **Day of Month**      | D      | 1 2 ... 30 31                          |
|                       | Do     | 1st 2nd ... 30th 31st                  |
|                       | DD     | 01 02 ... 30 31                        |
| **Day of Week**       | d      | 0 1 ... 5 6                            |
|                       | ddd    | Sun Mon ... Fri Sat                    |
|                       | dddd   | Sunday Monday ... Friday Saturday      |
| **Year**              | YY     | 70 71 ... 29 30                        |
|                       | YYYY   | 1970 1971 ... 2029 2030                |
| **AM/PM**             | A      | AM PM                                  |
|                       | a      | am pm                                  |
| **Hour**              | H      | 0 1 ... 22 23                          |
|                       | HH     | 00 01 ... 22 23                        |
|                       | h      | 1 2 ... 11 12                          |
|                       | hh     | 01 02 ... 11 12                        |
| **Minute**            | m      | 0 1 ... 58 59                          |
|                       | mm     | 00 01 ... 58 59                        |
| **Second**            | s      | 0 1 ... 58 59                          |
|                       | ss     | 00 01 ... 58 59                        |
| **Fractional Second** | S      | 0 1 ... 8 9                            |
|                       | SS     | 0 1 ... 98 99                          |
|                       | SSS    | 0 1 ... 998 999                        |
| **Timezone**          | ZZ     | -0700 -0600 ... +0600 +0700            |


## 图例 Legend

图例（legend）是图表的辅助元素，使用颜色、名称等区分不同的数据，可用于图表中数据的筛选。

通过向 `config.legend` 传入一个对象可以配置图例，默认开启显示，传入false则关闭图例。

配置详细属性如下：

| 属性名           | 描述                                                         | 类型           | 默认值    |
| ---------------- | ------------------------------------------------------------ | -------------- | --------- |
| position         | 图例位置，可选'top'和'bottom'。对饼图Wpie无效                | string         | 'top'     |
| align            | 图例左右位置，可选'left'、'right'和'center'。对饼图Wpie无效  | string         | 'left'    |
| nameFormatter    | 图例数据项名称格式化函数，传入参数：name, data, index，返回新的显示值 | function       | null      |
| showData         | 图例中是否显示最后一项数据值。部分组件支持：折线图、柱状图、线柱图、散点图、漏斗图。 | boolean        | false     |
| valueFormatter   | 图例中显示数据的格式化函数，传入参数：value, data, index，返回新的显示数据。仅饼图Wpie，折线图、柱状图、线柱图、散点图、漏斗图有效。 | function       | null      |
| hoverable        | 是否在图例hover时高亮对应图形元素                            | boolean        | false     |
| clickable        | 是否可以点击关闭图例对应数据项                               | boolean        | true      |
| allowAllCanceled | 是否允许关闭全部图例                                         | boolean        | false     |
| style            | 自定义样式                                                   | object         | undefined |
| autoCollapse     | 是否在图例过多时自动折叠。（除饼图/地图外默认为true）        | boolean        | true      |
| collapseRow      | 图例折叠高度行数，默认根据图表高度自动计算。                 | number\|string | 'auto'    |



## 提示信息 Tooltip

提示信息（tooltip）是指当鼠标悬停在图表上的某点时，以提示框的形式展示该点的信息。用于显示原本在图表中被隐藏或精简的信息。

通过向 `config.tooltip` 传入一个对象可以配置提示信息，默认开启显示，传入false则关闭提示信息。

配置详细属性如下：

| 属性名         | 描述                                                         | 类型            | 默认值 |
| -------------- | ------------------------------------------------------------ | --------------- | ------ |
| sort           | 对提示向进行排序，可以传入 'asce'(升序), 'desc'(降序)，或传入函数自定义排序 | string/function | null   |
| showTitle      | 是否显示标题。（注：有些图表会强制关闭标题。）               | boolean         | true   |
| showColon      | 是否显示颜色标记点。                                         | boolean         | true   |
| inPlot         | 是否将展示区域限制在图表内。                                 | boolean         | true   |
| titleFormatter | tooltip标题格式化函数，传入参数：title, data，返回新的显示值，对饼图Wpie等tooltip没有标题的图表无效 | function        | null   |
| nameFormatter  | tooltip数据项名称格式化函数，传入参数：name, data, index, rawData，返回新的显示值 | function        | null   |
| valueFormatter | tooltip中显示数据的格式化函数，传入参数：value, data, index, rawData，返回新的显示数据 | function        | null   |



## 图形文本 Label

图形文本（Label）是图形的辅助元素，用于在图形上直接显示对应的数据，而不需要鼠标交互。

通过向 `config.label` 传入一个对象可以配置图形文本，默认关闭。

配置详细属性如下：

| 属性名         | 描述                                                         | 类型     | 默认值 |
| -------------- | ------------------------------------------------------------ | -------- | ------ |
| autoRotate     | 自动旋转                                                     | boolean  | true   |
| offset         | 标签位置偏移量，默认不偏移                                   | number   | 0      |
| labelFormatter | 自定义标签格式化函数，传入参数：label, data, index，返回新的显示值 | function | null   |



## 辅助标记 Guide

辅助标记（Guide）也是图表的辅助元素，主要用于在图表上标识额外的标记和注解。

通过向 `config.guide` 传入一个对象可以配置辅助标记，默认关闭。

目前支持三种辅助标记：

-   line（线） 通过 `config.guide.line` 配置
-   area（区域） 通过 `config.guide.area` 配置
-   filter（过滤着色）通过 `config.guide.filter` 配置

传入一个对象可以绘制一个辅助标记，传入对象数组则可以绘制多个辅助标记。

### 辅助线 line

配置详细属性如下：

| 属性名    | 描述                                       | 类型            | 默认值      |
| ------ | ---------------------------------------- | ------------- | -------- |
| top    | 该标记是否绘制在最上层                              | boolean       | true     |
| text   | 辅助线的标注文案，详情看下方                           | object        | {}       |
| status | 辅助线状态，可选：normal、warning、error            | string        | 'normal' |
| axis   | 该辅助标记所在的轴，可选：x、y。需要和value配合使用            | string        | null     |
| value  | 该辅助标记在对应轴上的值，传入对应的原始数据。需要和axis配合使用       | number        | null     |
| start  | 自定义开始点，传入G2支持的start格式，详情：[G2 辅助元素](https://antv.alipay.com/zh-cn/g2/3.x/tutorial/guide.html#_%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8) | object\|array | null     |
| end    | 自定义结束点，传入G2支持的end格式，详情：[G2 辅助元素](https://antv.alipay.com/zh-cn/g2/3.x/tutorial/guide.html#_%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8) | object\|array | null     |

text详细配置如下：

| 属性名      | 描述          | 类型             | 默认值     |
| -------- | ----------- | -------------- | ------- |
| title    | 显示的文案       | string         | ''      |
| position | 文本的显示位置     | string\|number | 'start' |
| align    | 文本的水平排列位置   | string         | 'end'   |
| rotate   | 是否沿线的角度排布   | boolean        | false   |
| offsetX  | 文本 X 方向的偏移量 | number         | 0       |
| offsetY  | 文本 Y 方向的偏移量 | number         | 0       |

### 辅助区域 area

配置详细属性如下：

| 属性名    | 描述                                       | 类型            | 默认值      |
| ------ | ---------------------------------------- | ------------- | -------- |
| top    | 该标记是否绘制在最上层                              | boolean       | true     |
| status | 辅助区域状态，可选：normal、warning、error           | string        | 'normal' |
| axis   | 该辅助标记所在的轴，可选：x、y。需要和value配合使用            | string        | null     |
| value  | 该辅助标记在对应轴上的值的数组，传入对应的原始数据。需要和axis配合使用    | array         | null     |
| start  | 自定义开始点，传入G2支持的start格式，详情：[G2 辅助元素](https://antv.alipay.com/zh-cn/g2/3.x/tutorial/guide.html#_%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8) | object\|array | null     |
| end    | 自定义结束点，传入G2支持的end格式，详情：[G2 辅助元素](https://antv.alipay.com/zh-cn/g2/3.x/tutorial/guide.html#_%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8) | object\|array | null     |

### 过滤着色 filter

将标记选中的区域重新着色，常用在将超过警戒阈值的图形变色示警。配置详细属性如下：

| 属性名 | 描述                                                         | 类型          | 默认值   |
| ------ | ------------------------------------------------------------ | ------------- | -------- |
| top    | 着色层是否绘制在最上层                                       | boolean       | true     |
| status | 辅助区域状态，可选：normal、warning、error                   | string        | 'normal' |
| axis   | 该辅助标记所在的轴，可选：x、y。需要和value配合使用          | string        | null     |
| value  | 该辅助标记在对应轴上的值的数组，传入对应的原始数据。需要和axis配合使用 | array         | null     |
| apply  | 着色仅对特定的元素生效，如['line', 'point'] 则只对线和点生效。默认为区域内全部元素着色。 | array         | null     |
| start  | 自定义开始点，传入G2支持的start格式，详情：[G2 辅助元素](https://antv.alipay.com/zh-cn/g2/3.x/tutorial/guide.html#_%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8) | object\|array | null     |
| end    | 自定义结束点，传入G2支持的end格式，详情：[G2 辅助元素](https://antv.alipay.com/zh-cn/g2/3.x/tutorial/guide.html#_%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8) | object\|array | null     |



## 颜色 color

Widgets 内置了符合视觉规范的颜色方案，可以方便的更换图表的颜色。

- `category_12` 定性色阶（分类型）：由12中颜色组成，适合大部分的场景。也是大多数图表的默认值。
- `linear_10` 连续色阶（连续型）：有10种颜色组成，常用于柱状图的配色。

```javascript
import { COLORS, Wbar } from "@alife/aisc-widgets"

const config = {
  colors: COLORS.category_12
};
```





## 图表事件 Event

Widgets支持绑定 G2 的全部事件，方便扩展交互方式。

直接在图表标签上的 event 属性传入对象，对象中key为事件名称，value为事件的回调函数，仅在初始化时绑定有效。

```jsx
const myEvent = {
  click: (ev) => {},
  plotclick: (ev) => {}
};

<Wline event={myEvent} />
```

所有的交互事件被分为五类：

- 基础事件

  mousedown、mousemove、mouseleave、mouseup、click、dbclick、touchstart、touchmove、touchend

- 绘图区域事件

  plotenter、plotmove、plotleave、plotclick、plotdbclick、

- tooltip事件

  tooltip:show、tooltip:hide

- 图形元素事件，以 <图形元素名>:<基础事件名> 命名，如：

  line:click、point:click 等等

- 拖拽缩放事件（Widgets自行封装，在版本2.5.1添加）

  zoom:start、zoom:end、zoom:reset

  ![图形元素事件](https://gw.alipayobjects.com/zos/rmsportal/eFRpBGmvDRAhYnCcrnnh.png)


## 工具函数

Widgets 内置了许多有用的工具函数，有需要时可以直接调用。共分为四类：

- Util，常用工具类，包含了部分 [lodash](https://lodash.com/) 的函数，以及一些在图表中常用的函数。
- DomUtil，用于操作 dom 相关的工具类。
- MatrixUtil，用于操作矩阵、向量的工具类。该工具类提供了操作三阶矩阵、二维向量和三维向量的方法，这些方法直接使用了 [glMatrix](http://glmatrix.net/) 库，并且在其基础上添加了一些额外的遍历方法
- PathUtil，用于操作图形路径的工具类。




### Util

| 方法                          | 参数                                       | 返回值                                    |
| --------------------------- | ---------------------------------------- | -------------------------------------- |
| isInvalidNumber（判断值是否为无效数字） | 参数1：需要判断的值                               | 无效数字返回true，有效数字返回false                 |
| numberDecimal（格式化数字的小数位）    | 参数1：需要格式化的数字。参数2：小数位数，默认为2               | 如果参数1时无效数字则返回字符串 '-'，有效则按照小数位数格式化数字并返回 |
| beautifyNumber（按千分位格式化数字）   | 参数1：需要格式化的数字。参数2：格式化字符，默认为‘,’（逗号）        | 如果参数1时无效数字则返回字符串 '-'，有效则按照千分位格式化数字并返回  |
| getStatusColor（获取状态的默认颜色）   | 参数1：状态值，如 normal、success、warning、error   | 颜色字符串                                  |
| each                        | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| map                         | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isObject                    | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isNumber                    | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isString                    | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isFunction                  | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isFinite                    | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isBoolean                   | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isEmpty                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| lowerFirst                  | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| upperFirst                  | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| upperCase                   | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isNil                       | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isNull                      | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isArray                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isDate                      | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isPlainObject               | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| toArray                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| indexOf                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| assign                      | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| groupBy                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| cloneDeep                   | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| maxBy                       | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| minBy                       | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| round                       | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| filter                      | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isEqualWith                 | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| isEqual                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| replace                     | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| union                       | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| pick                        | [lodash](https://lodash.com/docs/4.17.4) |                                        |
| uniq                        | [lodash](https://lodash.com/docs/4.17.4) |                                        |



### DomUtil

| 方法                                       | 参数                                       | 返回值                                      |
| ---------------------------------------- | ---------------------------------------- | ---------------------------------------- |
| getBoundingClientRect(node)              | `node`:HTMLElement，dom 节点                | 返回该节点在页面中的位置，返回结果格式为： `{top: , bottom: , left: , right}` |
| getStyle(dom, name)                      | `dom`:HTMLElement，DOM 节点；`name`:String，样式名 | 返回该节点对应样式名 name 的具体样式。                   |
| modifyCSS(dom, css)                      | `dom`:HTMLElement，DOM 节点；`css`:Object，样式属性 | 修改对应节点的 css 样式，返回修改样式后的 dom 对象。          |
| createDom(str)                           | `str`:String，Dom 字符串                     | 按照传入的 str 创建 dom 节点，并返回创建的节点。            |
| getRatio()                               | --                                       | 返回屏幕的像素分辨率。                              |
| getWidth(el)                             | `el`:HTMLElement，dom 节点                  | 返回 dom 节点的宽度，不包含 padding、border          |
| getHeight(el)                            | `e`l:HTMLElement，dom 节点                  | 返回 dom 节点的高度，不包含 padding、border          |
| getOuterWidth(el)                        | `el`:HTMLElement，dom 节点                  | 返回 dom 节点的宽度，包含 padding、border           |
| getOuterHeight(el)                       | `el`:HTMLElement，dom 节点                  | 返回 dom 节点的高度，包含 padding、border           |
| addEventListener(target, eventType, callback) | `target`:HTMLElement，DOM对象；`eventType`:String，事件名；`callback`:Function，回调函数 | 添加事件监听器                                  |
| requestAnimationFrame(fn)                | `fn`:Function，回调函数                       | 用于定时循环操作。                                |



### MatrixUtil

| 方法   | 参数                                       | 返回值  |
| ---- | ---------------------------------------- | ---- |
| mat3 | http://glmatrix.net/docs/module-mat3.html |      |
| vec2 | http://glmatrix.net/docs/module-vec2.html |      |
| vec3 | http://glmatrix.net/docs/module-vec3.html |      |



### PathUtil

| 方法                              | 参数                                       | 返回值                                      |
| ------------------------------- | ---------------------------------------- | ---------------------------------------- |
| parsePathString(pathString)     | `pathString`:String，字符串格式的路径，如 'M 10,39 L 20,50' | 将字符串格式的路径转换为数组格式，[ [ 'M', 10, 39 ], [ 'L', 20, 50 ] ] |
| parsePathArray(pathArray)       | `pathArray`:Array，数组格式的路径，如 [ [ 'M', 10, 39 ], [ 'L', 20, 50 ] ] | 将数组格式的路径转化为字符串，'M 10,39 L 20,50'         |
| pathTocurve(path)               | `path`:Array，数组格式的路径                     | 路径转曲                                     |
| pathToAbsolute(path)            | `path`:Array，数组格式的路径                     | 将所有的路径命令转换为绝对定位                          |
| catmullRomToBezier(pointsArray) | `pointsArray`:Array，点的数组，如 [ 10, 12, 22, 1, ... ] | 将传入的点（至少四组点）转曲                           |
| intersection(path1, path2)      | `path1`:Array，数组格式的路径；`path2`:Array，数组格式的路径 | 两条路径差值计算                                 |


## 2.0 升级指南