# CloudCharts é‡æ„è®¡åˆ’ä¹¦

## ä¸€ã€é‡æ„ç›®æ ‡

### 1.1 æ ¸å¿ƒç›®æ ‡
åŸºäºæ‚¨çš„éœ€æ±‚ï¼Œæœ¬æ¬¡é‡æ„éœ€è¦è¾¾æˆä»¥ä¸‹å››ä¸ªæ ¸å¿ƒç›®æ ‡ï¼š

1. âœ… **React å‡çº§**: ä» 15/16/17 å‡çº§åˆ° React 18+
2. âœ… **G2 å‡çº§**: ä» 4.x å‡çº§åˆ° 5.xï¼ˆä¸å¼€æºç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼‰
3. âœ… **æ„å»ºå·¥å…·å‡çº§**: ä» Webpack 4 + build-scripts å‡çº§åˆ°ç°ä»£æ„å»ºå·¥å…·
4. âœ… **AI é©±åŠ¨å¼€å‘**: å»ºç«‹éœ€æ±‚é©±åŠ¨çš„æ™ºèƒ½ç¼–ç¨‹ä½“ç³»

### 1.2 é‡æ„åŸåˆ™
- **æ¸è¿›å¼**: åˆ†é˜¶æ®µå®æ–½ï¼Œé™ä½é£é™©
- **å‘åå…¼å®¹**: ä¿æŒ API ä¸€è‡´æ€§
- **ç±»å‹å®‰å…¨**: å®Œå–„ TypeScript ç±»å‹
- **æµ‹è¯•è¦†ç›–**: ç¡®ä¿åŠŸèƒ½ç¨³å®š
- **æ–‡æ¡£å®Œå–„**: ä¸º AI ç¼–ç¨‹æä¾›å……åˆ†ä¸Šä¸‹æ–‡

## äºŒã€ç°çŠ¶åˆ†æ

### 2.1 å½“å‰æŠ€æœ¯æ ˆ
```json
{
  "è¿è¡Œæ—¶": {
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "@antv/g2": "^4.2.9"
  },
  "æ„å»ºå·¥å…·": {
    "webpack": "^4.46.0",
    "@alib/build-scripts": "^0.1.3",
    "build-plugin-component": "^1.0.3"
  },
  "å¼€å‘å·¥å…·": {
    "typescript": "4.6.4",
    "babel": "^6.24.1",
    "storybook": "^6.4.12"
  }
}
```

### 2.2 æ¶æ„ç‰¹ç‚¹
- âœ… **ç±»ç»„ä»¶æ¶æ„**: åŸºäº React ç±»ç»„ä»¶çš„å›¾è¡¨åŸºç±»
- âœ… **AOP åˆ‡é¢**: å®Œå–„çš„ç”Ÿå‘½å‘¨æœŸé’©å­ç³»ç»Ÿ
- âœ… **æ™ºèƒ½è§„åˆ™**: å¤§æ•°æ®ã€æç«¯æ•°æ®è‡ªåŠ¨å¤„ç†
- âœ… **ä¸»é¢˜ç³»ç»Ÿ**: SCSS å˜é‡ + JS è¿è¡Œæ—¶åˆ‡æ¢
- âœ… **å›½é™…åŒ–**: Context + äº‹ä»¶ç³»ç»Ÿ
- âš ï¸ **æŠ€æœ¯å€ºåŠ¡**: 
  - Webpack 4 å·²è¿‡æ—¶
  - Babel 6 ä¸æ”¯æŒç°ä»£ç‰¹æ€§
  - React ç±»ç»„ä»¶ä¸ç¬¦åˆç°ä»£æœ€ä½³å®è·µ
  - æ„å»ºé…ç½®å¤æ‚ä¸”éš¾ä»¥ç»´æŠ¤

### 2.3 ä»£ç ç»Ÿè®¡
- **ç»„ä»¶æ•°é‡**: 20+ ä¸ªå›¾è¡¨ç»„ä»¶
- **ä»£ç è¡Œæ•°**: ~15,000 è¡Œ
- **ç±»å‹å®šä¹‰**: éƒ¨åˆ† TypeScript
- **æµ‹è¯•è¦†ç›–**: Storybook æ¼”ç¤ºä¸ºä¸»
- **æ–‡æ¡£**: README + ç®€å•è¯´æ˜

## ä¸‰ã€é‡æ„æ–¹æ¡ˆ

### 3.1 æŠ€æœ¯é€‰å‹

#### 3.1.1 æ ¸å¿ƒä¾èµ–å‡çº§
```json
{
  "è¿è¡Œæ—¶": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@antv/g2": "^5.0.0",
    "@antv/g2plot": "^3.0.0"
  },
  "æ„å»ºå·¥å…·": {
    "vite": "^5.0.0",
    "typescript": "^5.3.0"
  },
  "å¼€å‘å·¥å…·": {
    "vitest": "^1.0.0",
    "storybook": "^7.6.0",
    "eslint": "^8.56.0",
    "prettier": "^3.1.0"
  }
}
```

#### 3.1.2 æ¶æ„æ¼”è¿›
```
å½“å‰: React ç±»ç»„ä»¶ + Webpack 4 + G2 4.x
         â†“
é˜¶æ®µ1: React ç±»ç»„ä»¶ + Vite + G2 5.x (æœ€å°æ”¹åŠ¨)
         â†“
é˜¶æ®µ2: React Hooks + Vite + G2 5.x (æ¸è¿›è¿ç§»)
         â†“
é˜¶æ®µ3: å®Œå…¨ç°ä»£åŒ– + AI é©±åŠ¨ (æœ€ç»ˆç›®æ ‡)
```

### 3.2 åˆ†é˜¶æ®µå®æ–½è®¡åˆ’

#### **é˜¶æ®µ 0: å‡†å¤‡å·¥ä½œ (1-2 å¤©)**

**ç›®æ ‡**: å»ºç«‹åŸºç¡€è®¾æ–½ï¼Œä¸ºé‡æ„åšå‡†å¤‡

**ä»»åŠ¡æ¸…å•**:
1. âœ… åˆ›å»º Git åˆ†æ”¯ `refactor/modernization`
2. âœ… å¤‡ä»½å½“å‰ä»£ç 
3. âœ… å»ºç«‹ CI/CD æµç¨‹
4. âœ… åˆ›å»ºæµ‹è¯•åŸºå‡†
5. âœ… å®Œå–„ç±»å‹å®šä¹‰

**å…·ä½“å·¥ä½œ**:
```bash
# 1. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
git checkout -b refactor/modernization

# 2. å®‰è£…ç°ä»£å·¥å…·é“¾
npm install -D vite @vitejs/plugin-react vitest @testing-library/react

# 3. å»ºç«‹æµ‹è¯•åŸºå‡†
npm run test:baseline  # è®°å½•å½“å‰æµ‹è¯•ç»“æœ

# 4. å®Œå–„ç±»å‹å®šä¹‰
# æ£€æŸ¥ src/common/types.tsï¼Œè¡¥å……ç¼ºå¤±çš„ç±»å‹
```

**äº§å‡ºç‰©**:
- Git åˆ†æ”¯
- æµ‹è¯•åŸºå‡†æŠ¥å‘Š
- å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡æ¡£

---

#### **é˜¶æ®µ 1: æ„å»ºå·¥å…·è¿ç§» (3-5 å¤©)**

**ç›®æ ‡**: ä» Webpack 4 è¿ç§»åˆ° Viteï¼Œä¿æŒä»£ç ä¸å˜

**æ ¸å¿ƒå˜æ›´**:
```javascript
// æ—§: build.json + build.before.js + build.after.js
// æ–°: vite.config.ts

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import { resolve } from 'path';

export default defineConfig({
  plugins: [react()],
  build: {
    lib: {
      entry: resolve(__dirname, 'src/index.ts'),
      name: 'CloudCharts',
      fileName: (format) => `index.${format}.js`
    },
    rollupOptions: {
      external: ['react', 'react-dom', '@antv/g2'],
      output: {
        globals: {
          react: 'React',
          'react-dom': 'ReactDOM',
          '@antv/g2': 'G2'
        }
      }
    }
  },
  // SCSS å¤„ç†
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "./src/themes/variables.scss";`
      }
    }
  }
});
```

**ä»»åŠ¡æ¸…å•**:
1. âœ… åˆ›å»º `vite.config.ts`
2. âœ… è¿ç§»æ„å»ºè„šæœ¬é€»è¾‘
3. âœ… æ›´æ–° package.json scripts
4. âœ… é…ç½® TypeScript
5. âœ… æµ‹è¯•æ„å»ºäº§ç‰©
6. âœ… æ›´æ–° Storybook é…ç½®

**å…·ä½“å·¥ä½œ**:
```bash
# 1. å®‰è£… Vite
npm install -D vite @vitejs/plugin-react

# 2. åˆ›å»ºé…ç½®æ–‡ä»¶
cat > vite.config.ts << 'EOF'
// é…ç½®å†…å®¹...
EOF

# 3. æ›´æ–°æ„å»ºè„šæœ¬
# å°† build.before.js çš„ SCSS ç¼–è¯‘é€»è¾‘è¿ç§»åˆ° Vite æ’ä»¶
# å°† build.after.js çš„é…ç½®è¿ç§»åˆ° Vite é…ç½®

# 4. æ›´æ–° package.json
cat > package.json << 'EOF'
{
  "scripts": {
    "dev": "vite",
    "build": "vite build && tsc --emitDeclarationOnly",
    "preview": "vite preview",
    "test": "vitest",
    "storybook": "storybook dev -p 6006",
    "build-storybook": "storybook build"
  }
}
EOF

# 5. æµ‹è¯•æ„å»º
npm run build
```

**éªŒè¯æ ‡å‡†**:
- âœ… æ„å»ºäº§ç‰©ä¸ä¹‹å‰ä¸€è‡´
- âœ… æ–‡ä»¶å¤§å°æ— æ˜æ˜¾å¢åŠ 
- âœ… æ‰€æœ‰å¯¼å‡ºæ­£å¸¸
- âœ… æ ·å¼æ–‡ä»¶æ­£å¸¸ç”Ÿæˆ

**é£é™©ä¸å›æ»š**:
- **é£é™©**: æ„å»ºé…ç½®å¤æ‚ï¼Œå¯èƒ½éœ€è¦å¤šæ¬¡è°ƒè¯•
- **å›æ»š**: ä½¿ç”¨ Git å›é€€åˆ°ä¸Šä¸€ç‰ˆæœ¬

---

#### **é˜¶æ®µ 2: React 18 å‡çº§ (2-3 å¤©)**

**ç›®æ ‡**: å‡çº§åˆ° React 18ï¼Œä¿æŒç±»ç»„ä»¶æ¶æ„

**æ ¸å¿ƒå˜æ›´**:
```json
// package.json
{
  "peerDependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0"
  }
}
```

**ä»»åŠ¡æ¸…å•**:
1. âœ… æ›´æ–°ä¾èµ–ç‰ˆæœ¬
2. âœ… å¤„ç† React 18 API å˜åŒ–
3. âœ… æ›´æ–°ç±»å‹å®šä¹‰
4. âœ… æµ‹è¯•å…¼å®¹æ€§
5. âœ… å¤„ç†å¼ƒç”¨è­¦å‘Š

**å…·ä½“å·¥ä½œ**:
```bash
# 1. å‡çº§ React
npm install react@^18.2.0 react-dom@^18.2.0
npm install -D @types/react@^18.2.0 @types/react-dom@^18.2.0

# 2. æ›´æ–°å…¥å£æ–‡ä»¶ (src/index.ts)
// æ·»åŠ  React 18 å…¼å®¹
import { createRoot } from 'react-dom/client';

// 3. å¤„ç† render API å˜åŒ–
// æ—§: ReactDOM.render(<App />, container)
// æ–°: createRoot(container).render(<App />)

# 4. è¿è¡Œæµ‹è¯•
npm test
npm run storybook
```

**å…³é”®æ£€æŸ¥ç‚¹**:
- âœ… `componentDidMount` / `componentDidUpdate` æ­£å¸¸å·¥ä½œ
- âœ… `Context` API æ­£å¸¸
- âœ… äº‹ä»¶ç³»ç»Ÿæ­£å¸¸
- âœ… æ—  React 18 è­¦å‘Š

**é£é™©ä¸å›æ»š**:
- **é£é™©**: ç±»ç»„ä»¶åœ¨ React 18 ä¸­å¯èƒ½æœ‰ç»†å¾®å·®å¼‚
- **å›æ»š**: é™çº§åˆ° React 17

---

#### **é˜¶æ®µ 3: G2 5.x å‡çº§ (5-7 å¤©)**

**ç›®æ ‡**: å‡çº§åˆ° G2 5.xï¼Œè¿™æ˜¯æœ€å¤æ‚çš„é˜¶æ®µ

**G2 5.x ä¸»è¦å˜åŒ–**:
```typescript
// G2 4.x
const chart = new Chart({
  container: 'container',
  width: 600,
  height: 400
});
chart.scale({ x: { type: 'cat' }, y: { nice: true } });
chart.interval().position('x*y').color('type');
chart.render();

// G2 5.x
import { Chart } from '@antv/g2';
const chart = new Chart({
  container: 'container',
  width: 600,
  height: 400
});
chart
  .interval()
  .data(data)
  .encode('x', 'x')
  .encode('y', 'y')
  .encode('color', 'type')
  .scale('y', { nice: true });
chart.render();
```

**ä»»åŠ¡æ¸…å•**:
1. âœ… å®‰è£… G2 5.x
2. âœ… åˆ†æ API å˜åŒ–
3. âœ… é‡å†™ Base.tsx
4. âœ… é‡å†™å„å›¾è¡¨ç»„ä»¶
5. âœ… æ›´æ–°å·¥å…·å‡½æ•°
6. âœ… æ›´æ–°ä¸»é¢˜ç³»ç»Ÿ
7. âœ… æ›´æ–°è§„åˆ™ç³»ç»Ÿ
8. âœ… å…¨é¢æµ‹è¯•

**å…·ä½“å·¥ä½œ**:

**æ­¥éª¤ 3.1: å®‰è£…ä¾èµ–**
```bash
npm install @antv/g2@^5.0.0
npm install -D @antv/g2@^5.0.0
```

**æ­¥éª¤ 3.2: é‡å†™ Base.tsx**
```typescript
// æ–° Base.tsx (G2 5.x å…¼å®¹)
import { Chart } from '@antv/g2';
import React from 'react';

class Base<ChartConfig, Props> extends React.Component<Props> {
  // ä¿æŒæ¥å£ä¸å˜ï¼Œå†…éƒ¨å®ç°æ”¹ä¸º G2 5.x API
  initChart() {
    const chart = new Chart({
      container: this.chartDom,
      width: this.size[0],
      height: this.size[1],
      padding: config.padding,
      // G2 5.x æ–°å¢
      autoFit: true,
    });
    
    // ä½¿ç”¨ G2 5.x çš„å£°æ˜å¼ API
    // æ—§: chart.interval().position(...)
    // æ–°: chart.interval().encode(...)
    
    this.chart = chart;
  }
}
```

**æ­¥éª¤ 3.3: æ›´æ–°å„ç»„ä»¶**
```typescript
// ä»¥ Wbar ä¸ºä¾‹
// æ—§: chart.interval().position('x*y').color('type').adjust('stack')
// æ–°: chart.interval().encode('x', 'x').encode('y', 'y').encode('color', 'type').adjust('stack')
```

**æ­¥éª¤ 3.4: æ›´æ–°ä¸»é¢˜ç³»ç»Ÿ**
```typescript
// G2 5.x ä¸»é¢˜ API å˜åŒ–
// æ—§: chart.theme({ theme: 'dark' })
// æ–°: chart.theme(getG2Theme('dark'))
```

**æ­¥éª¤ 3.5: æ›´æ–°å·¥å…·å‡½æ•°**
- `rectXAxis` â†’ ä½¿ç”¨ G2 5.x Axis API
- `rectYAxis` â†’ ä½¿ç”¨ G2 5.x Axis API
- `rectTooltip` â†’ ä½¿ç”¨ G2 5.x Tooltip API
- `rectLegend` â†’ ä½¿ç”¨ G2 5.x Legend API

**éªŒè¯æ ‡å‡†**:
- âœ… æ‰€æœ‰å›¾è¡¨ç±»å‹æ­£å¸¸æ¸²æŸ“
- âœ… é…ç½®é¡¹åŠŸèƒ½ä¸€è‡´
- âœ… ä¸»é¢˜åˆ‡æ¢æ­£å¸¸
- âœ… äº‹ä»¶ç³»ç»Ÿæ­£å¸¸
- âœ… æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™

**é£é™©ä¸å›æ»š**:
- **é£é™©**: API å˜åŒ–å¤§ï¼Œéœ€è¦å¤§é‡é‡å†™
- **å›æ»š**: ä½¿ç”¨ Vite çš„ alias æŒ‡å‘æ—§ç‰ˆæœ¬

---

#### **é˜¶æ®µ 4: æ¸è¿›å¼ Hooks è¿ç§» (7-10 å¤©)**

**ç›®æ ‡**: å°†ç±»ç»„ä»¶é€æ­¥è¿ç§»åˆ°å‡½æ•°ç»„ä»¶ + Hooks

**è¿ç§»ç­–ç•¥**:
```
1. ä¿æŒ Base åŸºç±»æ¥å£ä¸å˜
2. å†…éƒ¨ä½¿ç”¨ Hooks å®ç°
3. å­ç»„ä»¶é€æ­¥è¿ç§»
4. ä¿æŒ API å…¼å®¹æ€§
```

**ä»»åŠ¡æ¸…å•**:
1. âœ… åˆ›å»º Hooks ç‰ˆæœ¬çš„ Base
2. âœ… è¿ç§» ChartProvider åˆ° Context + Hooks
3. âœ… è¿ç§»å·¥å…·å‡½æ•°åˆ°è‡ªå®šä¹‰ Hooks
4. âœ… é€ä¸ªè¿ç§»å›¾è¡¨ç»„ä»¶
5. âœ… æ›´æ–°ç±»å‹å®šä¹‰
6. âœ… å…¨é¢æµ‹è¯•

**å…·ä½“å·¥ä½œ**:

**æ­¥éª¤ 4.1: åˆ›å»º useChart Hook**
```typescript
// src/common/useChart.ts
import { useRef, useEffect, useCallback } from 'react';
import { Chart } from '@antv/g2';

export function useChart<Config>(props: ChartProps<Config>) {
  const chartRef = useRef<Chart | null>(null);
  const containerRef = useRef<HTMLDivElement>(null);
  
  useEffect(() => {
    if (!containerRef.current) return;
    
    // åˆå§‹åŒ–å›¾è¡¨
    const chart = new Chart({
      container: containerRef.current,
      // ...
    });
    
    chartRef.current = chart;
    
    return () => {
      chart.destroy();
      chartRef.current = null;
    };
  }, []);
  
  // æ›´æ–°æ•°æ®
  useEffect(() => {
    if (chartRef.current && props.data) {
      chartRef.current.changeData(props.data);
    }
  }, [props.data]);
  
  return { chartRef, containerRef };
}
```

**æ­¥éª¤ 4.2: åˆ›å»ºå‡½æ•°ç»„ä»¶ç‰ˆæœ¬**
```typescript
// æ–° Wbar ç»„ä»¶
export function Wbar<Config = WbarConfig>(props: ChartProps<Config>) {
  const { chartRef, containerRef } = useChart(props);
  
  // å¤„ç†é…ç½®æ›´æ–°
  useEffect(() => {
    if (chartRef.current && props.config) {
      // åº”ç”¨é…ç½®
      applyConfig(chartRef.current, props.config);
    }
  }, [props.config]);
  
  return (
    <div ref={containerRef} style={{ width: props.width, height: props.height }} />
  );
}
```

**æ­¥éª¤ 4.3: è¿ç§» ChartProvider**
```typescript
// æ—§: class ChartProvider extends Component
// æ–°: function ChartProvider({ children, ...props }: ChartProviderProps)

import { createContext, useContext, useMemo } from 'react';

const ChartContext = createContext<ChartContextValue>(defaultContext);

export function ChartProvider({ children, language, theme, locale }: ChartProviderProps) {
  const value = useMemo(() => ({
    language,
    theme,
    locale,
    // ...
  }), [language, theme, locale]);
  
  return (
    <ChartContext.Provider value={value}>
      {children}
    </ChartContext.Provider>
  );
}

export function useChartContext() {
  return useContext(ChartContext);
}
```

**éªŒè¯æ ‡å‡†**:
- âœ… API å®Œå…¨å…¼å®¹
- âœ… åŠŸèƒ½æ— å›å½’
- âœ… ä»£ç æ›´ç®€æ´
- âœ… æ€§èƒ½æå‡

---

#### **é˜¶æ®µ 5: AI é©±åŠ¨å¼€å‘ä½“ç³» (3-5 å¤©)**

**ç›®æ ‡**: å»ºç«‹éœ€æ±‚é©±åŠ¨çš„æ™ºèƒ½ç¼–ç¨‹ç¯å¢ƒ

**ä»»åŠ¡æ¸…å•**:
1. âœ… å®Œå–„ç±»å‹å®šä¹‰
2. âœ… ç”Ÿæˆ API æ–‡æ¡£
3. âœ… åˆ›å»ºä»£ç æ¨¡æ¿
4. âœ… å»ºç«‹æµ‹è¯•è§„èŒƒ
5. âœ… é…ç½® AI è¾…åŠ©å·¥å…·

**å…·ä½“å·¥ä½œ**:

**æ­¥éª¤ 5.1: å®Œå–„ç±»å‹å®šä¹‰**
```typescript
// src/types/api.ts
/**
 * æŸ±çŠ¶å›¾é…ç½®é¡¹
 * @example
 * ```typescript
 * const config: WbarConfig = {
 *   stack: true,
 *   colors: ['#1890ff', '#13c2c2']
 * };
 * ```
 */
export interface WbarConfig extends BaseChartConfig {
  /** æ˜¯å¦å †å  */
  stack?: boolean;
  /** é¢œè‰²æ–¹æ¡ˆ */
  colors?: Colors;
  // ... æ›´å¤š JSDoc
}
```

**æ­¥éª¤ 5.2: ç”Ÿæˆ API æ–‡æ¡£**
```bash
# ä½¿ç”¨ TypeDoc ç”Ÿæˆæ–‡æ¡£
npm install -D typedoc
npx typedoc --out docs src/index.ts
```

**æ­¥éª¤ 5.3: åˆ›å»ºä»£ç æ¨¡æ¿**
```typescript
// .cursorrules æˆ– AI é…ç½®æ–‡ä»¶
{
  "component_template": {
    "steps": [
      "1. å®šä¹‰é…ç½®æ¥å£",
      "2. åˆ›å»ºç»„ä»¶éª¨æ¶",
      "3. å®ç°åˆå§‹åŒ–é€»è¾‘",
      "4. å®ç°æ•°æ®æ›´æ–°",
      "5. æ·»åŠ æµ‹è¯•ç”¨ä¾‹"
    ],
    "examples": {
      "bar": "å‚è€ƒ src/Wbar/index.tsx",
      "line": "å‚è€ƒ src/Wline/index.tsx"
    }
  }
}
```

**æ­¥éª¤ 5.4: å»ºç«‹æµ‹è¯•è§„èŒƒ**
```typescript
// vitest é…ç½®
export default defineConfig({
  test: {
    globals: true,
    environment: 'jsdom',
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html']
    }
  }
});

// æµ‹è¯•ç¤ºä¾‹
describe('Wbar', () => {
  it('should render correctly', () => {
    const { container } = render(<Wbar data={data} />);
    expect(container.querySelector('.wbar')).toBeTruthy();
  });
});
```

**æ­¥éª¤ 5.5: AI è¾…åŠ©é…ç½®**
```markdown
# AI ç¼–ç¨‹æŒ‡å— (AI_CODING_GUIDE.md)

## éœ€æ±‚æè¿°æ¨¡æ¿
```
éœ€æ±‚: [åŠŸèƒ½æè¿°]
æ•°æ®: [æ•°æ®æ ¼å¼ç¤ºä¾‹]
é…ç½®: [éœ€è¦çš„é…ç½®é¡¹]
çº¦æŸ: [æŠ€æœ¯çº¦æŸ]
```

## ä»£ç ç”Ÿæˆè§„åˆ™
1. ä½¿ç”¨ TypeScript
2. éµå¾ªç°æœ‰æ¶æ„
3. æ·»åŠ  JSDoc æ³¨é‡Š
4. åŒ…å«æµ‹è¯•ç”¨ä¾‹
5. è€ƒè™‘è¾¹ç•Œæƒ…å†µ

## å¸¸è§ä»»åŠ¡
- æ–°å¢å›¾è¡¨ç»„ä»¶
- æ·»åŠ é…ç½®é¡¹
- ä¿®å¤ Bug
- æ€§èƒ½ä¼˜åŒ–
```

---

#### **é˜¶æ®µ 6: æµ‹è¯•ä¸ä¼˜åŒ– (3-5 å¤©)**

**ä»»åŠ¡æ¸…å•**:
1. âœ… å•å…ƒæµ‹è¯•è¦†ç›–
2. âœ… é›†æˆæµ‹è¯•
3. âœ… æ€§èƒ½æµ‹è¯•
4. âœ… å…¼å®¹æ€§æµ‹è¯•
5. âœ… æ–‡æ¡£å®Œå–„

**æµ‹è¯•ç­–ç•¥**:
```typescript
// 1. å•å…ƒæµ‹è¯• (Vitest)
describe('Base Component', () => {
  it('should merge configs correctly', () => {
    const result = mergeConfig(defaults, userConfig);
    expect(result).toMatchObject(expected);
  });
});

// 2. ç»„ä»¶æµ‹è¯• (React Testing Library)
describe('Wbar', () => {
  it('renders with data', () => {
    render(<Wbar data={data} config={config} />);
    expect(screen.getByRole('img')).toBeInTheDocument();
  });
});

// 3. è§†è§‰å›å½’æµ‹è¯• (Storybook)
// ä½¿ç”¨ storybook test runner

// 4. æ€§èƒ½æµ‹è¯•
it('should handle large data efficiently', () => {
  const start = performance.now();
  render(<Wbar data={largeData} />);
  const end = performance.now();
  expect(end - start).toBeLessThan(100);
});
```

---

#### **é˜¶æ®µ 7: å‘å¸ƒä¸æ–‡æ¡£ (2-3 å¤©)**

**ä»»åŠ¡æ¸…å•**:
1. âœ… æ›´æ–° CHANGELOG
2. âœ… ç”Ÿæˆè¿ç§»æŒ‡å—
3. âœ… å‘å¸ƒ Beta ç‰ˆæœ¬
4. âœ… æ”¶é›†åé¦ˆ
5. âœ… æ­£å¼å‘å¸ƒ

**äº§å‡ºç‰©**:
- `CHANGELOG.md` - ç‰ˆæœ¬å˜æ›´è®°å½•
- `MIGRATION_GUIDE.md` - è¿ç§»æŒ‡å—
- `API_REFERENCE.md` - API å‚è€ƒæ–‡æ¡£
- `EXAMPLES.md` - ä½¿ç”¨ç¤ºä¾‹é›†

## å››ã€æ—¶é—´è§„åˆ’

### æ€»è®¡: 23-38 ä¸ªå·¥ä½œæ—¥

| é˜¶æ®µ | ä»»åŠ¡ | å·¥ä½œæ—¥ | ä¼˜å…ˆçº§ |
|------|------|--------|--------|
| 0 | å‡†å¤‡å·¥ä½œ | 1-2 | ğŸ”´ é«˜ |
| 1 | æ„å»ºå·¥å…·è¿ç§» | 3-5 | ğŸ”´ é«˜ |
| 2 | React 18 å‡çº§ | 2-3 | ğŸ”´ é«˜ |
| 3 | G2 5.x å‡çº§ | 5-7 | ğŸ”´ é«˜ |
| 4 | Hooks è¿ç§» | 7-10 | ğŸŸ¡ ä¸­ |
| 5 | AI ä½“ç³»å»ºç«‹ | 3-5 | ğŸŸ¡ ä¸­ |
| 6 | æµ‹è¯•ä¼˜åŒ– | 3-5 | ğŸŸ¢ ä½ |
| 7 | å‘å¸ƒæ–‡æ¡£ | 2-3 | ğŸŸ¢ ä½ |

### é‡Œç¨‹ç¢‘
- **Week 1**: é˜¶æ®µ 0-1 (æ„å»ºå·¥å…·å°±ç»ª)
- **Week 2**: é˜¶æ®µ 2-3 (React 18 + G2 5.x)
- **Week 3-4**: é˜¶æ®µ 4-5 (Hooks + AI ä½“ç³»)
- **Week 5**: é˜¶æ®µ 6-7 (æµ‹è¯• + å‘å¸ƒ)

## äº”ã€é£é™©è¯„ä¼°

### 5.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| G2 5.x API ä¸å…¼å®¹ | ğŸ”´ é«˜ | ä¸­ | æå‰è°ƒç ”ï¼Œå‡†å¤‡é€‚é…å±‚ |
| React 18 ç±»ç»„ä»¶é—®é¢˜ | ğŸŸ¡ ä¸­ | ä½ | ä½¿ç”¨å…¼å®¹æ¨¡å¼ |
| æ„å»ºé…ç½®å¤æ‚ | ğŸŸ¡ ä¸­ | ä¸­ | åˆ†é˜¶æ®µéªŒè¯ |
| æ€§èƒ½å›é€€ | ğŸŸ¡ ä¸­ | ä½ | åŸºå‡†æµ‹è¯•å¯¹æ¯” |
| æµ‹è¯•è¦†ç›–ä¸è¶³ | ğŸŸ¢ ä½ | ä¸­ | å¢åŠ è‡ªåŠ¨åŒ–æµ‹è¯• |

### 5.2 ä¸šåŠ¡é£é™©

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|----------|
| API ç ´åæ€§å˜æ›´ | ğŸ”´ é«˜ | ä¿æŒå‘åå…¼å®¹ï¼Œæä¾›è¿ç§»æŒ‡å— |
| ç”¨æˆ·å‡çº§æˆæœ¬ | ğŸŸ¡ ä¸­ | æ¸è¿›å¼å‡çº§ï¼Œè¯¦ç»†æ–‡æ¡£ |
| äº¤ä»˜å»¶æœŸ | ğŸŸ¡ ä¸­ | åˆ†é˜¶æ®µäº¤ä»˜ï¼ŒMVP ä¼˜å…ˆ |

## å…­ã€æˆåŠŸæ ‡å‡†

### 6.1 åŠŸèƒ½å®Œæ•´æ€§
- âœ… æ‰€æœ‰ 20+ å›¾è¡¨ç±»å‹æ­£å¸¸å·¥ä½œ
- âœ… æ‰€æœ‰é…ç½®é¡¹åŠŸèƒ½ä¸€è‡´
- âœ… ä¸»é¢˜ç³»ç»Ÿæ­£å¸¸
- âœ… å›½é™…åŒ–æ­£å¸¸
- âœ… äº‹ä»¶ç³»ç»Ÿæ­£å¸¸

### 6.2 æŠ€æœ¯æŒ‡æ ‡
- âœ… React 18 å…¼å®¹
- âœ… G2 5.x ä½¿ç”¨
- âœ… Vite æ„å»º
- âœ… TypeScript 5.x
- âœ… æµ‹è¯•è¦†ç›–ç‡ > 80%

### 6.3 å¼€å‘ä½“éªŒ
- âœ… æ„å»ºé€Ÿåº¦æå‡ 50%+
- âœ… ç±»å‹æç¤ºå®Œå–„
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… AI è¾…åŠ©å¯ç”¨

### 6.4 æ€§èƒ½æŒ‡æ ‡
- âœ… åŒ…ä½“ç§¯å‡å°‘ 20%+
- âœ… é¦–å±æ¸²æŸ“æ—¶é—´ < 100ms
- âœ… å¤§æ•°æ®æ¸²æŸ“æµç•…

## ä¸ƒã€åç»­æ¼”è¿›

### 7.1 çŸ­æœŸ (1-3 ä¸ªæœˆ)
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- ä¿®å¤ Bug
- æ€§èƒ½ä¼˜åŒ–
- è¡¥å……å›¾è¡¨ç±»å‹

### 7.2 ä¸­æœŸ (3-6 ä¸ªæœˆ)
- å®Œå…¨ Hooks åŒ–
- æ”¯æŒ Server Components
- å¾®å‰ç«¯é›†æˆ
- å¯è§†åŒ–ç¼–è¾‘å™¨

### 7.3 é•¿æœŸ (6-12 ä¸ªæœˆ)
- AI æ™ºèƒ½æ¨è
- è‡ªåŠ¨å›¾è¡¨é€‰æ‹©
- æ€§èƒ½è‡ªåŠ¨ä¼˜åŒ–
- è·¨å¹³å°æ”¯æŒ

## å…«ã€èµ„æºéœ€æ±‚

### 8.1 äººåŠ›
- **æ¶æ„å¸ˆ**: 1 äºº (è´Ÿè´£æŠ€æœ¯å†³ç­–)
- **èµ„æ·±å¼€å‘**: 1-2 äºº (æ ¸å¿ƒå¼€å‘)
- **æµ‹è¯•**: 1 äºº (è´¨é‡ä¿éšœ)
- **æ–‡æ¡£**: 1 äºº (æ–‡æ¡£ç¼–å†™)

### 8.2 å·¥å…·
- CI/CD ç¯å¢ƒ
- æµ‹è¯•æœåŠ¡å™¨
- æ€§èƒ½åˆ†æå·¥å…·
- æ–‡æ¡£æ‰˜ç®¡å¹³å°

### 8.3 é¢„ç®—
- å·¥å…·è®¢é˜…: $500/æœˆ
- äº‘æœåŠ¡: $300/æœˆ
- æ€»è®¡: ~$5,000 (5ä¸ªæœˆ)

## ä¹ã€æ€»ç»“

æœ¬æ¬¡é‡æ„æ˜¯ CloudCharts çš„ç°ä»£åŒ–å‡çº§ï¼Œç›®æ ‡æ˜¯å»ºç«‹ä¸€ä¸ªé¢å‘æœªæ¥çš„æ™ºèƒ½å›¾è¡¨ç»„ä»¶åº“ã€‚é€šè¿‡åˆ†é˜¶æ®µå®æ–½ï¼Œå¯ä»¥æœ‰æ•ˆæ§åˆ¶é£é™©ï¼Œç¡®ä¿ä¸šåŠ¡è¿ç»­æ€§ã€‚

**å…³é”®æˆåŠŸå› ç´ **:
1. å……åˆ†çš„å‰æœŸè°ƒç ”å’Œå‡†å¤‡
2. ä¸¥æ ¼çš„æµ‹è¯•è¦†ç›–
3. æ¸…æ™°çš„æ–‡æ¡£å’Œè¿ç§»æŒ‡å—
4. æŒç»­çš„ç”¨æˆ·åé¦ˆ

**é¢„æœŸæ”¶ç›Š**:
- å¼€å‘æ•ˆç‡æå‡ 50%+
- åŒ…ä½“ç§¯å‡å°‘ 20%+
- ç»´æŠ¤æˆæœ¬é™ä½ 40%+
- AI ç¼–ç¨‹æ”¯æŒ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ¶å®šæ—¥æœŸ**: 2026-01-09  
**è´Ÿè´£äºº**: AI Architect

